var tipuesearch = {"pages": [{'title': 'About', 'text': '個人倉儲: https://github.com/40823231-2/cd2021 \n', 'tags': '', 'url': 'About.html'}, {'title': 'stage1', 'text': '兩人小組:40823231 40823219 \n 兩人倉儲: https://github.com/40823219/stage1-bg19 \n 製作物品 \n \n \n \n', 'tags': '', 'url': 'stage1.html'}, {'title': 'w1製作討論', 'text': '使用gitter進行小組討論要製作的主題 \n \n', 'tags': '', 'url': 'w1製作討論.html'}, {'title': 'W2~W3製圖及模擬', 'text': '', 'tags': '', 'url': 'W2~W3製圖及模擬.html'}, {'title': '零件圖繪製', 'text': '分工繪製零件圖 \n 組合零件圖，修改尺寸 \n \n 跳板(第一版) \n \n 車身(第一版) \n \n 車輪 \n \n 車桿 \n \n 組合(第一版) \n 零件使用 \n \n \n \n \n \n \n', 'tags': '', 'url': '零件圖繪製.html'}, {'title': 'CoppeliaSim程式模擬', 'text': '彈射車 \n \n', 'tags': '', 'url': 'CoppeliaSim程式模擬.html'}, {'title': 'W4報告影片', 'text': '上台報告影片 \n \n 網頁介紹 \n \n', 'tags': '', 'url': 'W4報告影片.html'}, {'title': 'W5', 'text': '四設計二乙班 40823231 \n \n', 'tags': '', 'url': 'W5.html'}, {'title': 'stage2', 'text': '小組倉儲: https://github.com/40823236/stage2-bg9 \n 小組網站: https://40823231-2.github.io/stage2-bg9/content/index.html \n \n', 'tags': '', 'url': 'stage2.html'}, {'title': 'W6製作分工討論', 'text': '使用gitter進行討論，並進行分工 \n 分工如下: \n 繪圖: 40823212 \n 模擬: 40823219、40823231、40823236 \n 程式編排: 40823219、40823231、40823236 \n \n', 'tags': '', 'url': 'W6製作分工討論.html'}, {'title': 'W7~W8零件圖', 'text': '零件繪製以及修改 \n 零件圖 \n \n \n \n \n \n \n 組合圖 \n \n \n', 'tags': '', 'url': 'W7~W8零件圖.html'}, {'title': 'W8~W9CoppeliaSim程式模擬', 'text': 'CoppeliaSim程式模擬 \n 火車輪CoppeliaSim模擬 \n \n', 'tags': '', 'url': 'W8~W9CoppeliaSim程式模擬.html'}, {'title': 'stage3', 'text': '', 'tags': '', 'url': 'stage3.html'}, {'title': 'task1', 'text': '\n 四設二乙名單如下: \n stage3-bg1 repo  |  stage3-bg1 site  |  40823245 repo  |  40823245 site  |  40823251 repo  |  40823251 site  |  40823208 repo  |  40823208 site  |  40823213 repo  |  40823213 site  |  40823232 repo  |  40823232 site  |  40823234 repo  |  40823234 site  |  40823235 repo  |  40823235 site  |  40823246 repo |  40823246 site ---------- stage3-bg2 repo  |  stage3-bg2 site  |  40823217 repo  |  40823217 site  |  40823201 repo  |  40823201 site  |  40823209 repo  |  40823209 site  |  40823210 repo  |  40823210 site  |  40823206 repo  |  40823206 site  |  40823207 repo  |  40823207 site  |  40823223 repo  |  40823223 site  |  40823224 repo |  40823224 site ---------- stage3-bg3 repo  |  stage3-bg3 site  |  40823236 repo  |  40823236 site  |  40823202 repo  |  40823202 site  |  40823203 repo  |  40823203 site  |  40823212 repo  |  40823212 site  |  40823219 repo  |  40823219 site  |  40823222 repo  |  40823222 site  |  40823231-2 repo  |  40823231-2 site  |  40823244 repo |  40823244 site ---------- stage3-bg4 repo  |  stage3-bg4 site  |  40823239 repo  |  40823239 site  |  s40723140 repo  |  s40723140 site  |  s40723128 repo  |  s40723128 site  |  s40723139 repo  |  s40723139 site  |  s40723106 repo  |  s40723106 site  |  s40723135 repo  |  s40723135 site  |  s40723143 repo  |  s40723143 site  |  s40723215 repo |  s40723215 site ---------- stage3-bg5 repo  |  stage3-bg5 site  |  40823221 repo  |  40823221 site  |  40823204 repo  |  40823204 site  |  40823205 repo  |  40823205 site  |  40823220 repo  |  40823220 site  |  40823228 repo  |  40823228 site  |  40823237 repo  |  40823237 site  |  40823242 repo  |  40823242 site  |  40823250 repo |  40823250 site  |  40832244 repo |  40832244 site ---------- stage3-bg6 repo  |  stage3-bg6 site  |  40823225 repo  |  40823225 site  |  40823214 repo  |  40823214 site  |  40823218 repo  |  40823218 site  |  40823211 repo  |  40823211 site  |  40823248 repo  |  40823248 site  |  40823247 repo  |  40823247 site  |  40823216 repo  |  40823216 site  |  40823238 repo |  40823238 site ---------- stage3-bg7 repo  |  stage3-bg7 site  |  40623144 repo  |  40623144 site  |  40823233 repo  |  40823233 site  |  s40723224 repo  |  s40723224 site  |  40823241 repo  |  40823241 site  |  40423155 repo  |  40423155 site  |  40823227 repo  |  40823227 site  |  s40723233 repo  |  s40723233 site ---------- \n 程式碼: \n def stu2b(account):\n    if account == "40823231":\n        return account + "-2"\n    elif account[0:3] == "407":\n        return "s" + account\n    else:\n        return account\n \nteamb = []\n \n# open file, default is read mode, since txt content no chinese char\n# no encoding = "UTF-8" is needed\nwith open("stage3_2b.txt") as fh:\n    # readlines will read into the whole line and put into list format\n    # has \\n at the end of each line\n    data = fh.readlines()\n#print(len(data))\nfor i in range(len(data)):\n    group = data[i].rstrip("\\n").split("\\t")\n    teamb.append(group)\n     \noutput = ""    \nseperator = "-"*10 + "<br />"\n \nfor i in teamb[0:]:\n    team = i[0]\n    leader = stu2b(i[1])\n    m1 = stu2b(i[3])\n    m2 = stu2b(i[5])\n    m3 = stu2b(i[7])\n    m4 = stu2b(i[9])\n    m5 = stu2b(i[11])\n    m6 = stu2b(i[13])\n     \n    try:\n        m7 = stu2b(i[15])\n    except:\n        m7 = ""\n    try:\n        m8 = stu2b(i[17])\n    except:\n        m8 = ""\n         \n    leaderrepo = "<a href=\'http://github.com/" + leader + "/cd2021\'>" + leader + " repo</a>"\n    leadersite = "<a href=\'http://" + leader + ".github.io/cd2021\'>" + leader +  " site</a>"\n    m1repo = "<a href=\'http://github.com/" + m1 + "/cd2021\'>" + m1 + " repo</a>"\n    m1site = "<a href=\'http://" + m1 + ".github.io/cd2021\'>" + m1 +  " site</a>"\n    m2repo = "<a href=\'http://github.com/" + m2 + "/cd2021\'>" + m2 + " repo</a>"\n    m2site = "<a href=\'http://" + m2 + ".github.io/cd2021\'>" + m2 +  " site</a>"\n    m3repo = "<a href=\'http://github.com/" + m3 + "/cd2021\'>" + m3 + " repo</a>"\n    m3site = "<a href=\'http://" + m3 + ".github.io/cd2021\'>" + m3 +  " site</a>"\n    m4repo = "<a href=\'http://github.com/" + m4 + "/cd2021\'>" + m4 + " repo</a>"\n    m4site = "<a href=\'http://" + m4 + ".github.io/cd2021\'>" + m4 +  " site</a>"\n    m5repo = "<a href=\'http://github.com/" + m5 + "/cd2021\'>" + m5 + " repo</a>"\n    m5site = "<a href=\'http://" + m5 + ".github.io/cd2021\'>" + m5 +  " site</a>"\n    m6repo = "<a href=\'http://github.com/" + m6 + "/cd2021\'>" + m6 + " repo</a>"\n    m6site = "<a href=\'http://" + m6 + ".github.io/cd2021\'>" + m6 +  " site</a>"\n  \n \n    teamrepo = "<a href=\'http://github.com/" + leader + "/" + team + "\'>" + team + " repo</a>"\n    teamsite =  "<a href=\'http://" + m1 + ".github.io/" + team + "\'>" + team +  " site</a>"\n \n    output += teamrepo + " | " + teamsite + " | " +leaderrepo + " | " + leadersite + " | " +m1repo + " | " + m1site + " | " +m2repo + " | " + m2site + " | " +m3repo + " | " + m3site + " | " +m4repo + " | " + m4site + " | " +m5repo + " | " + m5site + " | " +m6repo + " | " + m6site \n     \n    if m7 != "":\n       m7repo = "<a href=\'http://github.com/" + m7 + "/cd2021\'>" + m7 + " repo</a>"\n       m7site = "<a href=\'http://" + m7 + ".github.io/cd2021\'>" + m7 +  " site</a>"   \n       output += " |  " + m7repo + "| " + m7site\n    else:\n        output += "" \n     \n    if m8 != "":\n       m8repo = "<a href=\'http://github.com/" + m8 + "/cd2021\'>" + m8 + " repo</a>"\n       m8site = "<a href=\'http://" + m8 + ".github.io/cd2021\'>" + m8 +  " site</a>"   \n       output += " |  " + m8repo + "| " + m8site + "<br />" + seperator\n    else:\n        output += "<br />" + seperator\n \n \nprint(output)\n# the following will use group data to generate needed html \n', 'tags': '', 'url': 'task1.html'}, {'title': 'task2', 'text': '利用白窗以及鍵盤控制Coppeliasim \n \n 程式碼 \n import sim as vrep\nimport math\nimport random\nimport time\nimport keyboard\n \nprint (\'Start\')\n \n# Close eventual old connections\nvrep.simxFinish(-1)\n# Connect to V-REP remote server\nclientID = vrep.simxStart(\'192.168.1.111\', 19997, True, True, 5000, 5)\n  \nif clientID !=-1:\n    print (\'Connected to remote API server\')\n   \n    res = vrep.simxAddStatusbarMessage(\n        clientID, "40823231",\n        vrep.simx_opmode_oneshot)\n          \n    if res not in (vrep.simx_return_ok, vrep.simx_return_novalue_flag):\n        print("Could not add a message to the status bar.")\n          \n    opmode = vrep.simx_opmode_oneshot_wait\n     \n    vrep.simxStartSimulation(clientID, opmode)\n    ret,shaft1=vrep.simxGetObjectHandle(clientID,"shaft_1",opmode)\n    ret,shaft2=vrep.simxGetObjectHandle(clientID,"shaft_2",opmode)\n    ret,shaft3=vrep.simxGetObjectHandle(clientID,"shaft_3",opmode)\n\n    while True:\n        if keyboard.is_pressed("w"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft1,2,opmode)\n            print("w")\n            \n        if keyboard.is_pressed("s"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft1,0,opmode)\n            print("s")\n            \n        if keyboard.is_pressed("a"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft2,2,opmode)\n            print("a")\n\n        if keyboard.is_pressed("b"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft2,0,opmode)\n            print("b")\n            \n        if keyboard.is_pressed("c"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft3,0.1,opmode)\n            print("c")\n\n        if keyboard.is_pressed("z"):\n            vrep.simxSetJointTargetVelocity(clientID,shaft3,0,opmode)\n            print("z")            \nelse:\n    print (\'Failed connecting to  remote API server\')\n    print (\'End\') \n', 'tags': '', 'url': 'task2.html'}, {'title': 'task3', 'text': '', 'tags': '', 'url': 'task3.html'}, {'title': '第11週', 'text': '第一部直播影片 \n \n 第二部直播影片 \n \n', 'tags': '', 'url': '第11週.html'}, {'title': '第12週', 'text': '\n', 'tags': '', 'url': '第12週.html'}, {'title': '第13週', 'text': '遠距離直播討論影片 \n \n', 'tags': '', 'url': '第13週.html'}, {'title': '第15週', 'text': '遠距直播教學影片 \n \n', 'tags': '', 'url': '第15週.html'}, {'title': '模擬影片', 'text': '火車 coppeliasim場景檔 \n \n import sim as vrep\nimport math\nimport random\nimport time\nimport keyboard\n \nprint (\'Start\')\n \n# Close eventual old connections\nvrep.simxFinish(-1)\n# Connect to V-REP remote server\nclientID = vrep.simxStart(\'192.168.1.110\', 19997, True, True, 5000, 5)\n  \nif clientID !=-1:\n    print (\'Connected to remote API server\')\n   \n    res = vrep.simxAddStatusbarMessage(\n        clientID, "all start",\n        vrep.simx_opmode_oneshot)\n          \n    if res not in (vrep.simx_return_ok, vrep.simx_return_novalue_flag):\n        print("Could not add a message to the status bar.")\n          \n    opmode = vrep.simx_opmode_oneshot_wait\n     \n    vrep.simxStartSimulation(clientID, opmode)\n    ret,wheel1=vrep.simxGetObjectHandle(clientID,"wheel_1",opmode)\n    ret,wheel2=vrep.simxGetObjectHandle(clientID,"wheel_2",opmode)\n    ret,wheel3=vrep.simxGetObjectHandle(clientID,"wheel_3",opmode)\n    ret,wheel4=vrep.simxGetObjectHandle(clientID,"wheel_4",opmode)\n\n    while True:\n        if keyboard.is_pressed("g"):\n            vrep.simxSetJointTargetVelocity(clientID,wheel1,20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel2,20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel3,20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel4,20,opmode)\n            print("go")\n            \n        if keyboard.is_pressed("r"):\n            vrep.simxSetJointTargetVelocity(clientID,wheel1,-20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel2,-20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel3,-20,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel4,-20,opmode)\n            print("back")\n            \n        if keyboard.is_pressed("s"):\n            vrep.simxSetJointTargetVelocity(clientID,wheel1,0,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel2,0,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel3,0,opmode)\n            vrep.simxSetJointTargetVelocity(clientID,wheel4,0,opmode)\n            print("stop")\n        \nelse:\n    print (\'Failed connecting to  remote API server\')\n    print (\'End\') \n', 'tags': '', 'url': '模擬影片.html'}, {'title': 'W15', 'text': '', 'tags': '', 'url': 'W15.html'}, {'title': '影片整理', 'text': '影片一 \n \n 首先要先找出A1以及A2的夾角，可以透過畢氏定理列出 \n \n 並透過餘弦定理可以將公式轉換為 \n \n 將公式用COSalpha表示，並將r2次方帶入第一個公式得 \n \n 再透過下圖我們可以得知q2=180-alpha \n \n 因此可得知COSq2=-COSalpha，將負號移過去可以得到 \n \n 因此我們可以得知q2 \n \n 接下來，以a2違長邊畫出一個直角三角形 \n \n 由這個三角形我們可以得到 \n \n 此時劃出一個連接兩條手臂的直角三角形 \n \n 透過此三角形可得出beta角公式 \n \n 劃出一個大直角三角形 \n \n 由此三角形可推得 \n \n \n 透過前面所推導的公式q1可得 \n \n 若手臂移動，如下圖 \n \n 因alpha、beta以及q1關系改變 \n \n 則q1和q2公式會變為 \n \n \n \n 此為兩種比較圖 \n \n \n \n', 'tags': '', 'url': '影片整理.html'}, {'title': 'W16', 'text': '程式碼由40823214同學教學提供~ \n MTB_ROBOT coppeliasim場景檔 \n onshape圖檔: https://cad.onshape.com/documents/04a281dcf22a682742d498db/w/7d59cd5d07f48e48326d56d5/e/fd8977c50133795f34faad12 \n \n 雲端檔案: https://drive.google.com/file/d/1Mi5EFiGo5KJ4idQQeo2381ZbJ2FWIqPF/view?usp=sharing \n \n', 'tags': '', 'url': 'W16.html'}, {'title': 'lua程式碼', 'text': 'W16 lua coppeliasim 場景檔 \n W16 exam lua程式執行 \xa0(0.2, 0.7, 0.05) 與 (-0.3, -0.55, 0.05)兩位置放置 \n   \n \n 以下為lua程式碼: \n \n function moving(x,y)\n    a=0.55\n    b=0.368\n    c=math.pow((math.pow(x,2)+math.pow(y,2)),0.5)\n    s=(a+b+c)/2\n    area=math.pow((s*(s-a)*(s-b)*(s-c)),0.5)\n    h=area/(2*c)\n    deg1_base=math.atan(x/y)\n    if x<0 and y<0 then\n        deg1_base=deg1_base+math.pi\n    end\n    deg1_tri=math.atan(h/a)\n    deg1=deg1_base+deg1_tri\n    deg2=math.pi-(0.5*math.pi-deg1_tri)-math.acos(h/b)\n    deg3=deg2-deg1\n    sim.setJointTargetPosition(joint01,deg1)\n    sim.setJointTargetPosition(joint02,-deg2)\n    sim.setJointTargetPosition(joint03,deg3)\nend\n\n\nfunction sysCall_threadmain()\n   joint01=sim.getObjectHandle(\'joint01\')\n   joint02=sim.getObjectHandle(\'joint02\')\n   joint03=sim.getObjectHandle(\'joint03\')\n   jointz=sim.getObjectHandle(\'jointz\')\n   sim.setJointTargetPosition(joint01,0)\n   sim.setJointTargetPosition(joint02,0)\n   sim.setJointTargetPosition(joint03,0)\n   sim.setJointTargetPosition(jointz,0)\n   sim.setIntegerSignal("pad_switch",1)\n   sim.setJointTargetPosition(jointz,-0.04)\n   sim.wait(5)\n   while sim.getSimulationState()~=sim.simulation_advancing_abouttostopre do\n       sim.setJointTargetPosition(jointz,0)\n       moving(0.2,0.7)\n       sim.wait(5)\n       sim.setIntegerSignal("pad_switch",0)\n       sim.wait(5)\n       sim.setIntegerSignal("pad_switch",1)\n       sim.setJointTargetPosition(jointz,-0.04)\n       sim.wait(5)\n       sim.setJointTargetPosition(jointz,0)\n       sim.wait(5)\n       moving(-0.3,-0.55)\n       sim.wait(5)\n       sim.setIntegerSignal("pad_switch",0)\n       sim.wait(5)\n       sim.setIntegerSignal("pad_switch",1)\n       sim.setJointTargetPosition(jointz,-0.04)\n       sim.wait(5)\n       sim.setJointTargetPosition(jointz,0)\n       sim.wait(5)\n       end\nend\n \n 程式碼筆記: \n function moving(x,y) \n 計算座標(x,y)的方程式 \n function sysCall_threadmain() \n 主程式的方程式 \n joint01=sim.getObjectHandle(\'joint01\') \n 表示coppeliasim中joint01的軸在程式中的的名稱。 \n sim.setJointTargetPosition(joint01,0) \n 表示設定軸joint01在0的位置。 \n sim.wait(5) \n 表示等待時間為5秒。 \n while sim.getSimulationState()~=sim.simulation_advancing_abouttostopre do \n 循環第35行到第53行的程式碼 \n sim.setIntegerSignal("pad_switch",0)\nsim.setIntegerSignal("pad_switch",1) \n 此為吸盤控制程式，"0"為吸取，"1"為放下 \n \n', 'tags': '', 'url': 'lua程式碼.html'}, {'title': '鍵盤指令程式', 'text': 'W16 keyboard coppeliasim 場景檔 \n 鍵盤程式碼指令 \n 方向左鍵:主臂向左\xa0 方向右鍵:主臂向右 \n 方向左鍵:小臂向左\xa0方向右鍵:小臂向右 \n 吸盤向下吸取:a \n 吸盤向上:t \n 吸盤放下:s \n \n 以下為keyborad程式碼: \n function sysCall_init()\n    joint01=sim.getObjectHandle(\'joint01\')\n    joint02=sim.getObjectHandle(\'joint02\')\n    joint03=sim.getObjectHandle(\'joint03\')\n    jointz=sim.getObjectHandle(\'jointz\')\n    sim.setJointTargetPosition(joint01,0)\n    sim.setJointTargetPosition(joint02,0)\n    sim.setJointTargetPosition(joint03,0)\n    sim.setJointTargetPosition(jointz,0)\n    deg1=0\n    deg2=0\n    deg3=0\nend\n\nfunction sysCall_actuation()\n    message,auxiliaryData=sim.getSimulatorMessage()\n    while message~=-1 do\n        if (message==sim.message_keypress) then\n            if (auxiliaryData[1]==2009) then\n            deg1=deg1+1\n            sim.setJointTargetPosition(joint01,deg1*math.pi/180)\n            end\n            if (auxiliaryData[1]==2010) then\n            deg1=deg1-1\n            deg3=deg2-deg1\n            sim.setJointTargetPosition(joint01,deg1*math.pi/180)\n            end\n            if (auxiliaryData[1]==2007) then\n            deg2=deg2+1\n            deg3=deg1-deg2\n            sim.setJointTargetPosition(joint02,deg2*math.pi/180)\n            end\n            if (auxiliaryData[1]==2008) then\n            deg2=deg2-1\n            deg3=deg1-deg2\n            sim.setJointTargetPosition(joint02,deg2*math.pi/180)\n            end\n            if (auxiliaryData[1]==97) then\n                sim.setJointTargetPosition(jointz,-0.037)\n                sim.setIntegerSignal("pad_switch",1)\n            end\n            if(auxiliaryData[1]==116) then\n                sim.setJointTargetPosition(jointz,0)\n            end\n            if(auxiliaryData[1]==115) then\n                sim.setIntegerSignal("pad_switch",0)\n            end\n            sim.setJointTargetPosition(joint03,deg3*math.pi/180)\n        end\n    message,auxiliaryData=sim.getSimulatorMessage()\n    end\nend\n \n \n 程式碼筆記: \n     message,auxiliaryData=sim.getSimulatorMessage()\n    while message~=-1 do\n        if (message==sim.message_keypress) then \n 第一行是指數據或是參數會等於模擬得到模擬器的訊息 \n 第二行是指當訊息不是-1時，得做出以下動作 \n 第三行是指訊息會等於鍵盤代碼的訊號 \n if (auxiliaryData[1]==2009) then\ndeg1=deg1+1\nsim.setJointTargetPosition(joint01,deg1*math.pi/180) \n 當鍵盤代號為2009(方向向右)時會執行下面的程式碼 \n \n', 'tags': '', 'url': '鍵盤指令程式.html'}, {'title': 'python remoteApi程式', 'text': 'W16 api coppeliasim 場景檔 \n 使用api操作MTB_ROBOT \n \n 以下為python程式碼: \n import sim as vrep\nimport math\nimport random\nimport time\n\ndef moving(x,y):\n    a=0.55\n    b=0.368\n    c=math.pow((math.pow(x,2)+math.pow(y,2)),0.5)\n    s=(a+b+c)/2\n    area=math.pow((s*(s-a)*(s-b)*(s-c)),0.5)\n    h=area/(2*c)\n    deg1_base=math.atan(x/y)\n    if x<0 and y<0 :\n        deg1_base=deg1_base+math.pi\n    deg1_tri=math.atan(h/a)\n    deg1=deg1_base+deg1_tri\n    deg2=math.pi-(0.5*math.pi-deg1_tri)-math.acos(h/b)\n    deg3=deg2-deg1\n    vrep.simxSetJointTargetPosition(clientID,joint01,deg1,opmode)\n    vrep.simxSetJointTargetPosition(clientID,joint02,deg2,opmode)\n    vrep.simxSetJointTargetPosition(clientID,joint03,deg3,opmode)\n\nprint (\'Start\')\n \nvrep.simxFinish(-1)\n \nclientID = vrep.simxStart(\'127.0.0.1\', 19997, True, True, 5000, 5)\n\nif clientID != -1:\n    print (\'Connected to remote API server\')\n\n    res = vrep.simxAddStatusbarMessage(\n        clientID, "This is teach by 40823214 ",\n        vrep.simx_opmode_oneshot)\n    if res not in (vrep.simx_return_ok, vrep.simx_return_novalue_flag):\n        print("Could not add a message to the status bar.")\n\n\n    opmode = vrep.simx_opmode_oneshot_wait\n    STREAMING = vrep.simx_opmode_streaming\n\n\n    vrep.simxStartSimulation(clientID, opmode)\n    ret,joint01=vrep.simxGetObjectHandle(clientID,"joint01",opmode)\n    ret,joint02=vrep.simxGetObjectHandle(clientID,"joint02",opmode)\n    ret,joint03=vrep.simxGetObjectHandle(clientID,"joint03",opmode)\n    ret,jointz=vrep.simxGetObjectHandle(clientID,"jointz",opmode)\n    \n    vrep.simxSetJointTargetPosition(clientID,joint01,0,opmode)\n    vrep.simxSetJointTargetPosition(clientID,joint02,0,opmode)\n    vrep.simxSetJointTargetPosition(clientID,joint03,0,opmode)\n    vrep.simxSetIntegerSignal(clientID,"pad_switch",1,opmode)\n    vrep.simxSetJointTargetPosition(clientID,jointz,-0.04,opmode)\n    time.sleep(1)\n    vrep.simxSetJointTargetPosition(clientID,jointz,0,opmode)\n    while True:\n        moving(0.2,0.7)\n        time.sleep(1)\n        vrep.simxSetIntegerSignal(clientID,"pad_switch",0,opmode)\n        time.sleep(1)\n        vrep.simxSetIntegerSignal(clientID,"pad_switch",1,opmode)\n        vrep.simxSetJointTargetPosition(clientID,jointz,-0.04,opmode)\n        time.sleep(1)\n        vrep.simxSetJointTargetPosition(clientID,jointz,0,opmode)\n        moving(-0.3,-0.55)\n        time.sleep(1)\n        vrep.simxSetIntegerSignal(clientID,"pad_switch",0,opmode)\n        time.sleep(1)\n        vrep.simxSetIntegerSignal(clientID,"pad_switch",1,opmode)\n        vrep.simxSetJointTargetPosition(clientID,jointz,-0.04,opmode)\n        time.sleep(1)\n        vrep.simxSetJointTargetPosition(clientID,jointz,0,opmode)\n    \n    \n\n \n 程式碼筆記: \n ret,joint01=vrep.simxGetObjectHandle(clientID,"joint01",opmode)\nvrep.simxSetJointTargetPosition(clientID,joint01,0,opmode)\nvrep.simxSetIntegerSignal(clientID,"pad_switch",1,opmode) \n 此三行程式碼對應到lua程式碼為: \n joint01=sim.getObjectHandle(\'joint01\')\nsim.setJointTargetPosition(joint01,0)\nsim.setIntegerSignal("pad_switch",1) \n \n', 'tags': '', 'url': 'python remoteApi程式.html'}, {'title': 'require', 'text': 'W16 require coppeliasim 場景檔 \n 使用require操作MTB_ROBOT \n 使用時須將coppeliasim檔案與lua程式檔存在同個資料夾中 \n \n', 'tags': '', 'url': 'require.html'}, {'title': '吸盤程式', 'text': '程式由40823214同學提供 \n function sysCall_init() \n    objectHandle=sim.getObjectHandle(\'suctionPad\')\n    sim.setUserParameter(objectHandle,\'@enable\',\'\')\n    modelBase=sim.getObjectAssociatedWithScript(sim.handle_self)\n    robotBase=modelBase\n    while true do\n        robotBase=sim.getObjectParent(robotBase)\n        if robotBase==-1 then\n            robotName=\'Dobot\'\n            break\n        end\n        robotName=sim.getObjectName(robotBase)\n        suffix,suffixlessName=sim.getNameSuffix(robotName)\n        if suffixlessName==\'Dobot\' then\n            break\n        end\n    end\n\n    s=sim.getObjectHandle(\'suctionPadSensor\')\n    l=sim.getObjectHandle(\'suctionPadLoopClosureDummy1\')\n    l2=sim.getObjectHandle(\'suctionPadLoopClosureDummy2\')\n    b=sim.getObjectHandle(\'suctionPad\')\n    suctionPadLink=sim.getObjectHandle(\'suctionPadLink\')\n    local gripperBase=sim.getObjectAssociatedWithScript(sim.handle_self)\n\n    infiniteStrength=sim.getScriptSimulationParameter(sim.handle_self,\'infiniteStrength\')\n    maxPullForce=sim.getScriptSimulationParameter(sim.handle_self,\'maxPullForce\')\n    maxShearForce=sim.getScriptSimulationParameter(sim.handle_self,\'maxShearForce\')\n    maxPeelTorque=sim.getScriptSimulationParameter(sim.handle_self,\'maxPeelTorque\')\n\n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\nend\n\nfunction sysCall_cleanup() \n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\nend \n\nfunction sysCall_sensing() \n    parent=sim.getObjectParent(l)\n    local sig=sim.getIntegerSignal("pad_switch")\n    if (not sig) or (sig==0) then\n        if (parent~=b) then\n            sim.setLinkDummy(l,-1)\n            sim.setObjectParent(l,b,true)\n            m=sim.getObjectMatrix(l2,-1)\n            sim.setObjectMatrix(l,-1,m)\n        end\n    else\n        if (parent==b) then\n            index=0\n            while true do\n                shape=sim.getObjects(index,sim.object_shape_type)\n                if (shape==-1) then\n                    break\n                end\n                local res,val=sim.getObjectInt32Parameter(shape,sim.shapeintparam_respondable)\n                if (shape~=b) and (val~=0) and (sim.checkProximitySensor(s,shape)==1) then\n                    -- Ok, we found a respondable shape that was detected\n                    -- We connect to that shape:\n                    -- Make sure the two dummies are initially coincident:\n                    sim.setObjectParent(l,b,true)\n                    m=sim.getObjectMatrix(l2,-1)\n                    sim.setObjectMatrix(l,-1,m)\n                    -- Do the connection:\n                    sim.setObjectParent(l,shape,true)\n                    sim.setLinkDummy(l,l2)\n                    break\n                end\n                index=index+1\n            end\n        else\n            -- Here we have an object attached\n            if (infiniteStrength==false) then\n                -- We might have to conditionally beak it apart!\n                result,force,torque=sim.readForceSensor(suctionPadLink) -- Here we read the median value out of 5 values (check the force sensor prop. dialog)\n                if (result>0) then\n                    breakIt=false\n                    if (force[3]>maxPullForce) then breakIt=true end\n                    sf=math.sqrt(force[1]*force[1]+force[2]*force[2])\n                    if (sf>maxShearForce) then breakIt=true end\n                    if (torque[1]>maxPeelTorque) then breakIt=true end\n                    if (torque[2]>maxPeelTorque) then breakIt=true end\n                    if (breakIt) then\n                        -- We break the link:\n                        sim.setLinkDummy(l,-1)\n                        sim.setObjectParent(l,b,true)\n                        m=sim.getObjectMatrix(l2,-1)\n                        sim.setObjectMatrix(l,-1,m)\n                    end\n                end\n            end\n        end\n    end\nend  \n', 'tags': '', 'url': '吸盤程式.html'}]};